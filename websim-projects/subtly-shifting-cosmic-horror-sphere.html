<html><head><base href="https://websim.ai" />
<title>Subtly Shifting Cosmic Horror Sphere</title>
<style>body{margin:0;overflow:hidden;background:#000;cursor:none}canvas{display:block}#info{position:absolute;top:10px;width:100%;text-align:center;color:#0ff;font-family:'Courier New',monospace;font-weight:700;text-shadow:0 0 5px #f0f}#cursor{position:absolute;width:20px;height:20px;border-radius:50%;background:rgba(255,0,255,.5);pointer-events:none;transform:translate(-50%,-50%);z-index:9999}</style>
<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
</head>
<body>
<div id="info">Subtly Shifting Cosmic Horror Sphere<br>Move cursor to interact, scroll to zoom, click to disintegrate</div>
<div id="cursor"></div>
<script>
const e=new THREE.Scene,t=new THREE.PerspectiveCamera(75,window.innerWidth/window.innerHeight,.1,1e3),o=new THREE.WebGLRenderer({antialias:!0});o.setSize(window.innerWidth,window.innerHeight),document.body.appendChild(o.domElement);const r=new THREE.SphereGeometry(.5,512,512),n=new THREE.ShaderMaterial({uniforms:{time:{value:0},scale:{value:10},displacementScale:{value:.15},curvature:{value:.3},horrorFactor:{value:.5},mousePosition:{value:new THREE.Vector2(.5,.5)},pulse:{value:0},disintegrationFactor:{value:0}},vertexShader:`uniform float time;uniform float scale;uniform float displacementScale;uniform float curvature;uniform float horrorFactor;uniform vec2 mousePosition;uniform float pulse;uniform float disintegrationFactor;varying vec2 vUv;varying vec3 vNormal;varying float vDisplacement;varying float vHorror;varying float vDistanceToMouse;vec4 permute(vec4 x){return mod(((x*34.0)+1.0)*x,289.0);}vec4 taylorInvSqrt(vec4 r){return 1.79284291400159-0.85373472095314*r;}float snoise(vec3 v){const vec2 C=vec2(1.0/6.0,1.0/3.0);const vec4 D=vec4(0.0,0.5,1.0,2.0);vec3 i=floor(v+dot(v,C.yyy));vec3 x0=v-i+dot(i,C.xxx);vec3 g=step(x0.yzx,x0.xyz);vec3 l=1.0-g;vec3 i1=min(g.xyz,l.zxy);vec3 i2=max(g.xyz,l.zxy);vec3 x1=x0-i1+1.0*C.xxx;vec3 x2=x0-i2+2.0*C.xxx;vec3 x3=x0-1.+3.0*C.xxx;i=mod(i,289.0);vec4 p=permute(permute(permute(i.z+vec4(0.0,i1.z,i2.z,1.0))+i.y+vec4(0.0,i1.y,i2.y,1.0))+i.x+vec4(0.0,i1.x,i2.x,1.0));float n_=1.0/7.0;vec3 ns=n_*D.wyz-D.xzx;vec4 j=p-49.0*floor(p*ns.z*ns.z);vec4 x_=floor(j*ns.z);vec4 y_=floor(j-7.0*x_);vec4 x=x_*ns.x+ns.yyyy;vec4 y=y_*ns.x+ns.yyyy;vec4 h=1.0-abs(x)-abs(y);vec4 b0=vec4(x.xy,y.xy);vec4 b1=vec4(x.zw,y.zw);vec4 s0=floor(b0)*2.0+1.0;vec4 s1=floor(b1)*2.0+1.0;vec4 sh=-step(h,vec4(0.0));vec4 a0=b0.xzyw+s0.xzyw*sh.xxyy;vec4 a1=b1.xzyw+s1.xzyw*sh.zzww;vec3 p0=vec3(a0.xy,h.x);vec3 p1=vec3(a0.zw,h.y);vec3 p2=vec3(a1.xy,h.z);vec3 p3=vec3(a1.zw,h.w);vec4 norm=taylorInvSqrt(vec4(dot(p0,p0),dot(p1,p1),dot(p2,p2),dot(p3,p3)));p0*=norm.x;p1*=norm.y;p2*=norm.z;p3*=norm.w;vec4 m=max(0.6-vec4(dot(x0,x0),dot(x1,x1),dot(x2,x2),dot(x3,x3)),0.0);m=m*m;return 42.0*dot(m*m,vec4(dot(p0,x0),dot(p1,x1),dot(p2,x2),dot(p3,x3)));}float fbm(vec3 x){float v=0.0;float a=0.5;vec3 shift=vec3(100.0);for(int i=0;i<5;++i){v+=a*snoise(x);x=x*2.0+shift;a*=0.5;}return v;}vec3 warpPosition(vec3 pos){float r=length(pos);float theta=acos(pos.z/r);float phi=atan(pos.y,pos.x);float horrorWarp=sin(r*5.0+time*0.2)*cos(theta*7.0+time*0.3)*sin(phi*9.0+time*0.4);r=r+sin(r*3.0+time*0.1)*curvature+horrorWarp*horrorFactor;theta=theta+sin(theta*4.0+time*0.3)*curvature+horrorWarp*horrorFactor;phi=phi+sin(phi*5.0+time*0.2)*curvature+horrorWarp*horrorFactor;return vec3(r*sin(theta)*cos(phi),r*sin(theta)*sin(phi),r*cos(theta));}void main(){vUv=uv;vec3 warpedPosition=warpPosition(position);vec3 noisePos=vec3(vUv*scale,time*0.01);float noise=fbm(noisePos);vDisplacement=sin(noise*15.0+time*0.1)*0.5+0.5;vDisplacement=smoothstep(0.2,0.8,vDisplacement);float smallFolds=sin(noise*30.0+time*0.5)*0.5+0.5;vDisplacement=mix(vDisplacement,smallFolds,0.3);vHorror=snoise(warpedPosition*2.0+time*0.05)*0.5+0.5;vDisplacement=mix(vDisplacement,vHorror,horrorFactor);vec3 tangent=normalize(vec3(1.0,0.0,0.0)-dot(normal,vec3(1.0,0.0,0.0))*normal);vec3 bitangent=cross(normal,tangent);mat3 tbn=mat3(tangent,bitangent,normal);vec3 warpedNormal=normalize(tbn*(warpPosition(position+normal*0.01)-warpedPosition));vDistanceToMouse=length(uv-mousePosition);float shrinkFactor=smoothstep(0.0,0.3,vDistanceToMouse);vec3 displaced=warpedPosition+warpedNormal*displacementScale*vDisplacement*shrinkFactor;displaced+=normalize(displaced)*(pulse*0.05)*sin(time*5.0+noise*5.0);displaced+=normalize(displaced)*disintegrationFactor*snoise(vec3(uv*10.0,time*0.1));vNormal=normalMatrix*warpedNormal;gl_Position=projectionMatrix*modelViewMatrix*vec4(displaced,1.0);}`,fragmentShader:`uniform float time;uniform float scale;uniform float horrorFactor;uniform vec2 mousePosition;uniform float disintegrationFactor;varying vec2 vUv;varying vec3 vNormal;varying float vDisplacement;varying float vHorror;varying float vDistanceToMouse;vec3 hsv2rgb(vec3 c){vec4 K=vec4(1.0,2.0/3.0,1.0/3.0,3.0);vec3 p=abs(fract(c.xxx+K.xyz)*6.0-K.www);return c.z*mix(K.xxx,clamp(p-K.xxx,0.0,1.0),c.y);}void main(){float colorSpeed=mix(1.0,0.1,smoothstep(0.0,0.3,vDistanceToMouse));vec3 color1=hsv2rgb(vec3(fract(time*colorSpeed),0.6,0.8));vec3 color2=hsv2rgb(vec3(fract(time*colorSpeed+0.333),0.5,0.7));vec3 color3=hsv2rgb(vec3(fract(time*colorSpeed+0.666),0.4,0.6));vec3 finalColor=mix(color1,color2,vDisplacement);finalColor=mix(finalColor,color3,smoothstep(0.6,1.0,vDisplacement));finalColor=mix(finalColor,hsv2rgb(vec3(fract(time*colorSpeed+vHorror),0.7,0.5)),vHorror*horrorFactor);vec3 light=normalize(vec3(1.0,1.0,1.0));float shading=dot(vNormal,light)*0.5+0.5;finalColor*=shading;float rimLight=1.0-max(dot(vNormal,vec3(0.0,0.0,1.0)),0.0);rimLight=smoothstep(0.6,1.0,rimLight);finalColor+=rimLight*0.2*hsv2rgb(vec3(fract(time*colorSpeed+0.5),0.5,0.7));float pulse=sin(vDisplacement*10.0-time)*0.5+0.5;finalColor=mix(finalColor,hsv2rgb(vec3(fract(time*colorSpeed+0.25),0.6,0.5)),pulse*0.3*horrorFactor);float veins=smoothstep(0.4,0.6,sin(vUv.x*50.0+vUv.y*30.0+time*0.2));finalColor=mix(finalColor,hsv2rgb(vec3(fract(time*colorSpeed+0.75),0.7,0.4)),veins*0.3*horrorFactor);float glowIntensity=smoothstep(0.0,0.2,vDistanceToMouse);finalColor+=hsv2rgb(vec3(fract(time*colorSpeed+0.1),0.6,0.8))*glowIntensity*0.5;finalColor=mix(finalColor,vec3(0.8,0.7,0.9),disintegrationFactor);gl_FragColor=vec4(finalColor,0.8-disintegrationFactor*0.5);}`,side:THREE.DoubleSide,transparent:!0}),i=new THREE.Mesh(r,n);e.add(i),t.position.z=2;let a=new THREE.Vector3(Math.random()-.5,Math.random()-.5,Math.random()-.5).normalize(),s=5e-4+.001*Math.random();function l(){a=new THREE.Vector3(Math.random()-.5,Math.random()-.5,Math.random()-.5).normalize(),s=5e-4+.001*Math.random()}setInterval(l,1e4+1e4*Math.random());let c=0,m=0;const d={x:0,y:0},u={x:0,y:0};let v=0,f=!1;function h(r){requestAnimationFrame(h),n.uniforms.time.value=5e-4*r,n.uniforms.horrorFactor.value=Math.min(1,n.uniforms.horrorFactor.value+5e-5),i.rotateOnAxis(a,s),c=Math.sin(5e-4*r)*Math.PI/16,m=Math.cos(5e-4*r)*Math.PI/16,i.rotation.x+=.05*(c-i.rotation.x),i.rotation.y+=.05*(m-i.rotation.y),n.uniforms.pulse.value=.5+.5*Math.sin(.001*r),d.x+=.005*(u.x-d.x),d.y+=.005*(u.y-d.y),i.position.x=.8*Math.sin(d.x),i.position.y=.8*Math.sin(d.y),f?(v+=.02,v>1&&(f=!1)):(v-=.02,v=Math.max(0,v)),n.uniforms.disintegrationFactor.value=v;const l=new THREE.Vector3(u.x,u.y,0).sub(i.position);l.normalize(),i.position.add(l.multiplyScalar(.005)),o.render(e,t)}window.addEventListener("resize",p,!1);function p(){t.aspect=window.innerWidth/window.innerHeight,t.updateProjectionMatrix(),o.setSize(window.innerWidth,window.innerHeight)}h(0);const w=new Audio("https://websim.ai/cosmic_horror_ambience.mp3");w.loop=!0,w.volume=.5,document.body.addEventListener("click",()=>{w.play()});function y(e){e.preventDefault();const o=e.deltaY;t.position.z+=5e-4*o,t.position.z=Math.max(1.5,Math.min(5,t.position.z))}document.addEventListener("wheel",y);const M=document.getElementById("cursor");function E(e){const t=e.clientX/window.innerWidth,o=1-e.clientY/window.innerHeight;n.uniforms.mousePosition.value.set(t,o),M.style.left=e.clientX+"px",M.style.top=e.clientY+"px",u.x=2*(t-.5),u.y=2*(o-.5)}document.addEventListener("mousemove",E),o.domElement.addEventListener("click",()=>{f=!0,v=0});
</script>
</body>
</html>