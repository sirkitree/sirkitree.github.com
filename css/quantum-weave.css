/**
 * Quantum Weave Design System
 * Inspired by Jony Ive's principles: Clarity, Reduction, Material Honesty
 */

/* ================================
   DISABLE MAIN SITE BACKGROUNDS
   ================================ */

/* Hide the main site's Three.js animated grid canvas on QW pages */
#grid-canvas {
  display: none !important;
  visibility: hidden !important;
  pointer-events: none !important;
}

/* Hide the main site's gradient background effects on QW pages */
body::before,
body::after {
  display: none !important;
}

/* Disable intensive rendering effects temporarily */
* {
  /* Disable backdrop-filter which causes major repaints */
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;

  /* Disable animations that might cause flicker */
  animation: none !important;
}

/* Re-enable lightweight hover transforms (GPU accelerated, very performant) */
.qw-card:hover,
.qw-narrative-card:hover,
.qw-discipline-card:hover,
.qw-btn:hover,
.related-post:hover {
  transform: translateY(-2px) !important;
  transition: transform 0.2s ease, border-color 0.2s ease, box-shadow 0.2s ease !important;
}

.qw-discipline-card:hover .qw-discipline-icon {
  transform: scale(1.05) !important;
  transition: transform 0.2s ease !important;
}

/* Re-enable border color transitions and subtle glow effects on hover */
.qw-card:hover {
  border-color: rgba(255, 255, 255, 0.2) !important;
  box-shadow: 0 8px 32px rgba(0, 229, 255, 0.1) !important;
}

.qw-narrative-card:hover {
  border-color: rgba(255, 255, 255, 0.2) !important;
  box-shadow: 0 8px 32px rgba(0, 229, 255, 0.15) !important;
}

.qw-discipline-card:hover {
  border-color: var(--discipline-color) !important;
}

.qw-btn:hover {
  border-color: var(--qw-quantum-cyan) !important;
  box-shadow: 0 0 20px rgba(0, 229, 255, 0.3) !important;
}

.qw-discipline-badge:hover {
  border-color: currentColor !important;
  box-shadow: 0 0 15px currentColor !important;
  transform: translateY(-1px) !important;
  transition: all 0.3s ease !important;
}

/* Re-enable subtle hexagonal pattern background (static, no animation) */
.qw-hex-pattern {
  opacity: 0.3 !important;
  background-image:
    repeating-linear-gradient(
      0deg,
      transparent,
      transparent 40px,
      rgba(0, 229, 255, 0.03) 40px,
      rgba(0, 229, 255, 0.03) 41px
    ),
    repeating-linear-gradient(
      60deg,
      transparent,
      transparent 40px,
      rgba(0, 229, 255, 0.03) 40px,
      rgba(0, 229, 255, 0.03) 41px
    ),
    repeating-linear-gradient(
      -60deg,
      transparent,
      transparent 40px,
      rgba(0, 229, 255, 0.03) 40px,
      rgba(0, 229, 255, 0.03) 41px
    ) !important;
  background-size: 80px 140px !important;
}

/* Re-enable thread divider with glowing dots (static decorative elements) */
.qw-thread-divider::before,
.qw-thread-divider::after {
  content: '' !important;
  position: absolute !important;
  top: 50% !important;
  width: 8px !important;
  height: 8px !important;
  border-radius: 50% !important;
  background: var(--qw-quantum-cyan) !important;
  box-shadow: 0 0 10px var(--qw-quantum-cyan) !important;
  transform: translateY(-50%) !important;
}

.qw-thread-divider::before {
  left: 20% !important;
}

.qw-thread-divider::after {
  right: 20% !important;
}

/* ================================
   QUANTUM WEAVE COLOR PALETTE
   ================================ */

:root {
  /* Primary Quantum Colors */
  --qw-quantum-cyan: #00E5FF;
  --qw-quantum-blue: #0A84FF;
  --qw-quantum-purple: #BF5AF2;
  --qw-quantum-void: #0D0D0D;
  --qw-quantum-shimmer: #1A1A2E;
  --qw-quantum-glow: rgba(0, 229, 255, 0.15);
  --qw-quantum-glow-strong: rgba(0, 229, 255, 0.3);

  /* Discipline Colors - Canonical Thread Signatures */
  --qw-infomancy: #00E5FF;           /* Sc1: Electric blue/cyan */
  --qw-fabricurgy: #C0C0C0;          /* Sc2: Silver-grey */
  --qw-corpus: #A8D5BA;              /* Sc3: Pale green */
  --qw-pyrosonics: #FF5722;          /* Sc4: Orange-red */
  --qw-spectra: #C77DFF;             /* Sc5: Rainbow iridescent (violet base) */
  --qw-cryoarchitectonics: #B0E0E6;  /* Sc6: Pale blue/crystalline */
  --qw-luxomancy: #FFB84D;           /* Sc7: Amber/gold */
  --qw-terraducts: #5D4E37;          /* Sc8: Deep brown/metallic grey */
  --qw-floramancy: #52B788;          /* Sc9: Living green/chlorophyll gold */

  /* Special Discipline Gradients */
  --qw-spectra-gradient: linear-gradient(135deg, #FF6B6B, #FFD93D, #6BCF7F, #4D96FF, #C77DFF, #FF6B9D);
  --qw-floramancy-gradient: linear-gradient(135deg, #52B788, #95D5B2, #D4A574);

  /* Semantic Colors */
  --qw-text-primary: #FFFFFF;
  --qw-text-secondary: #B8B8B8;
  --qw-text-tertiary: #6E6E73;
  --qw-bg-primary: var(--qw-quantum-void);
  --qw-bg-secondary: var(--qw-quantum-shimmer);
  --qw-border-subtle: rgba(255, 255, 255, 0.1);
  --qw-border-medium: rgba(255, 255, 255, 0.2);
}

/* ================================
   QUANTUM WEAVE TYPOGRAPHY
   ================================ */

.qw-display {
  font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Display', 'Inter', sans-serif;
  font-weight: 700;
  letter-spacing: -0.03em;
  line-height: 1.1;
}

.qw-title {
  font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Display', 'Inter', sans-serif;
  font-weight: 600;
  letter-spacing: -0.02em;
  line-height: 1.2;
}

.qw-body {
  font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Text', 'Inter', sans-serif;
  font-weight: 400;
  line-height: 1.8;
  font-size: 1.125rem;
}

.qw-caption {
  font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Text', 'Inter', sans-serif;
  font-weight: 500;
  font-size: 0.875rem;
  letter-spacing: 0.01em;
  text-transform: uppercase;
  color: var(--qw-text-tertiary);
}

/* ================================
   GLASSMORPHIC CARDS
   ================================ */

.qw-card {
  background: rgba(26, 26, 46, 0.6);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--qw-border-subtle);
  border-radius: 16px;
  padding: 2rem;
  position: relative;
  overflow: hidden;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.qw-card::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 1px;
  background: linear-gradient(
    90deg,
    transparent,
    var(--qw-quantum-cyan),
    transparent
  );
  opacity: 0.5;
}

.qw-card:hover {
  border-color: var(--qw-border-medium);
  box-shadow:
    0 8px 32px rgba(0, 229, 255, 0.1),
    0 0 0 1px rgba(0, 229, 255, 0.1);
  transform: translateY(-2px);
}

.qw-card-glow {
  box-shadow:
    0 0 20px var(--qw-quantum-glow),
    0 8px 32px rgba(0, 0, 0, 0.3);
}

.qw-card-glow:hover {
  box-shadow:
    0 0 30px var(--qw-quantum-glow-strong),
    0 12px 48px rgba(0, 0, 0, 0.4);
}

/* ================================
   HEXAGONAL GRID PATTERN
   ================================ */

.qw-hex-pattern {
  background-image:
    repeating-linear-gradient(
      0deg,
      transparent,
      transparent 40px,
      rgba(0, 229, 255, 0.03) 40px,
      rgba(0, 229, 255, 0.03) 41px
    ),
    repeating-linear-gradient(
      60deg,
      transparent,
      transparent 40px,
      rgba(0, 229, 255, 0.03) 40px,
      rgba(0, 229, 255, 0.03) 41px
    ),
    repeating-linear-gradient(
      -60deg,
      transparent,
      transparent 40px,
      rgba(0, 229, 255, 0.03) 40px,
      rgba(0, 229, 255, 0.03) 41px
    );
  background-size: 80px 140px;
}

/* ================================
   QUANTUM GLOW EFFECTS
   ================================ */

.qw-glow-text {
  color: var(--qw-quantum-cyan);
  text-shadow:
    0 0 10px rgba(0, 229, 255, 0.5),
    0 0 20px rgba(0, 229, 255, 0.3),
    0 0 30px rgba(0, 229, 255, 0.1);
}

.qw-glow-border {
  border: 1px solid var(--qw-quantum-cyan);
  box-shadow:
    0 0 10px rgba(0, 229, 255, 0.3),
    inset 0 0 10px rgba(0, 229, 255, 0.1);
}

/* ================================
   THREAD DIVIDER
   ================================ */

.qw-thread-divider {
  position: relative;
  height: 1px;
  margin: 3rem 0;
  background: linear-gradient(
    90deg,
    transparent,
    var(--qw-quantum-cyan) 20%,
    var(--qw-quantum-cyan) 80%,
    transparent
  );
  opacity: 0.3;
}

.qw-thread-divider::before,
.qw-thread-divider::after {
  content: '';
  position: absolute;
  top: 50%;
  width: 8px;
  height: 8px;
  border-radius: 50%;
  background: var(--qw-quantum-cyan);
  box-shadow: 0 0 10px var(--qw-quantum-cyan);
  transform: translateY(-50%);
}

.qw-thread-divider::before {
  left: 20%;
}

.qw-thread-divider::after {
  right: 20%;
}

/* ================================
   DISCIPLINE BADGES
   ================================ */

.qw-discipline-badge {
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.375rem 0.875rem;
  background: rgba(26, 26, 46, 0.8);
  backdrop-filter: blur(10px);
  border: 1px solid var(--qw-border-subtle);
  border-radius: 20px;
  font-size: 0.75rem;
  font-weight: 600;
  letter-spacing: 0.05em;
  text-transform: uppercase;
  transition: all 0.3s ease;
}

.qw-discipline-badge::before {
  content: '';
  width: 8px;
  height: 8px;
  border-radius: 50%;
  background: currentColor;
  box-shadow: 0 0 8px currentColor;
}

.qw-discipline-badge:hover {
  border-color: currentColor;
  box-shadow: 0 0 15px currentColor;
  transform: translateY(-1px);
}

/* Discipline-specific colors */
.qw-discipline-infomancy { color: var(--qw-infomancy); }
.qw-discipline-fabricurgy { color: var(--qw-fabricurgy); }
.qw-discipline-corpus { color: var(--qw-corpus); }
.qw-discipline-pyrosonics { color: var(--qw-pyrosonics); }
.qw-discipline-spectra { color: var(--qw-spectra); }
.qw-discipline-cryoarchitectonics { color: var(--qw-cryoarchitectonics); }
.qw-discipline-luxomancy { color: var(--qw-luxomancy); }
.qw-discipline-terraducts { color: var(--qw-terraducts); }
.qw-discipline-floramancy { color: var(--qw-floramancy); }

/* Special gradient effects for Spectra (rainbow iridescent) */
.qw-discipline-spectra.qw-discipline-badge::before {
  background: var(--qw-spectra-gradient);
  animation: qw-pulse 2s ease-in-out infinite;
}

.qw-discipline-spectra.qw-discipline-badge {
  background: linear-gradient(135deg, rgba(199, 125, 255, 0.1), rgba(255, 107, 109, 0.1));
  border-color: var(--qw-spectra);
}

/* Special gradient effects for Floramancy (living green/chlorophyll gold) */
.qw-discipline-floramancy.qw-discipline-badge::before {
  background: var(--qw-floramancy-gradient);
}

.qw-discipline-floramancy.qw-discipline-badge {
  background: linear-gradient(135deg, rgba(82, 183, 136, 0.1), rgba(212, 165, 116, 0.1));
}

/* ================================
   DISCIPLINE GRID
   ================================ */

.qw-discipline-grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 1.5rem;
  margin: 2rem 0;
}

.qw-discipline-card {
  position: relative;
  background: rgba(26, 26, 46, 0.4);
  backdrop-filter: blur(10px);
  border: 1px solid var(--qw-border-subtle);
  border-radius: 12px;
  padding: 1.5rem;
  text-align: center;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  cursor: pointer;
}

.qw-discipline-card::before {
  content: '';
  position: absolute;
  inset: 0;
  border-radius: 12px;
  padding: 1px;
  background: linear-gradient(135deg, transparent, var(--discipline-color), transparent);
  -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
  -webkit-mask-composite: xor;
  mask-composite: exclude;
  opacity: 0;
  transition: opacity 0.3s ease;
}

.qw-discipline-card:hover {
  transform: translateY(-4px);
  border-color: var(--discipline-color);
}

.qw-discipline-card:hover::before {
  opacity: 1;
}

.qw-discipline-icon {
  width: 48px;
  height: 48px;
  margin: 0 auto 1rem;
  color: var(--discipline-color);
  filter: drop-shadow(0 0 8px var(--discipline-color));
  transition: all 0.3s ease;
}

.qw-discipline-card:hover .qw-discipline-icon {
  filter: drop-shadow(0 0 16px var(--discipline-color));
  transform: scale(1.1);
}

.qw-discipline-name {
  font-size: 1rem;
  font-weight: 600;
  color: var(--qw-text-primary);
  margin-bottom: 0.5rem;
}

.qw-discipline-description {
  font-size: 0.875rem;
  color: var(--qw-text-secondary);
  line-height: 1.5;
}

@media (max-width: 768px) {
  .qw-discipline-grid {
    grid-template-columns: 1fr;
    gap: 1rem;
  }
}

/* ================================
   HERO SECTION
   ================================ */

.qw-hero {
  position: relative;
  min-height: 70vh;
  display: flex;
  align-items: center;
  justify-content: center;
  overflow: hidden;
  margin-bottom: 4rem;
}

.qw-hero-background {
  position: absolute;
  inset: 0;
  background: radial-gradient(
    ellipse at center,
    rgba(0, 229, 255, 0.1) 0%,
    transparent 70%
  );
}

.qw-hero-content {
  position: relative;
  z-index: 2;
  text-align: center;
  max-width: 900px;
  padding: 2rem;
}

.qw-hero-title {
  font-size: clamp(2.5rem, 8vw, 5rem);
  font-weight: 700;
  letter-spacing: -0.03em;
  margin-bottom: 1.5rem;
  background: linear-gradient(
    135deg,
    var(--qw-quantum-cyan) 0%,
    var(--qw-quantum-blue) 50%,
    var(--qw-quantum-purple) 100%
  );
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  animation: qw-shimmer 3s ease-in-out infinite;
}

.qw-hero-subtitle {
  font-size: clamp(1.125rem, 2.5vw, 1.5rem);
  color: var(--qw-text-secondary);
  line-height: 1.6;
  margin-bottom: 2rem;
  max-width: 700px;
  margin-left: auto;
  margin-right: auto;
}

.qw-hero-cta {
  display: flex;
  gap: 1rem;
  justify-content: center;
  flex-wrap: wrap;
}

/* ================================
   BUTTONS
   ================================ */

.qw-btn {
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.875rem 1.75rem;
  background: transparent;
  border: 1px solid var(--qw-quantum-cyan);
  border-radius: 8px;
  color: var(--qw-quantum-cyan);
  font-size: 1rem;
  font-weight: 600;
  text-decoration: none;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  cursor: pointer;
  position: relative;
  overflow: hidden;
}

.qw-btn::before {
  content: '';
  position: absolute;
  inset: 0;
  background: var(--qw-quantum-cyan);
  opacity: 0;
  transition: opacity 0.3s ease;
}

.qw-btn:hover::before {
  opacity: 0.1;
}

.qw-btn:hover {
  border-color: var(--qw-quantum-cyan);
  box-shadow: 0 0 20px rgba(0, 229, 255, 0.3);
  transform: translateY(-2px);
}

.qw-btn-primary {
  background: var(--qw-quantum-cyan);
  color: var(--qw-quantum-void);
  border-color: var(--qw-quantum-cyan);
}

.qw-btn-primary::before {
  background: white;
}

.qw-btn-primary:hover {
  background: var(--qw-quantum-blue);
  border-color: var(--qw-quantum-blue);
}

/* ================================
   NARRATIVE CARD
   ================================ */

.qw-narrative-card {
  position: relative;
  background: rgba(26, 26, 46, 0.6);
  backdrop-filter: blur(20px);
  border: 1px solid var(--qw-border-subtle);
  border-radius: 16px;
  padding: 2rem;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  overflow: hidden;
}

.qw-narrative-card::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 4px;
  height: 100%;
  background: linear-gradient(
    180deg,
    var(--qw-quantum-cyan),
    var(--qw-quantum-purple)
  );
  opacity: 0;
  transition: opacity 0.3s ease;
}

.qw-narrative-card:hover {
  border-color: var(--qw-border-medium);
  box-shadow: 0 8px 32px rgba(0, 229, 255, 0.15);
  transform: translateY(-4px);
}

.qw-narrative-card:hover::before {
  opacity: 1;
}

.qw-narrative-meta {
  display: flex;
  align-items: center;
  gap: 1rem;
  margin-bottom: 1rem;
  font-size: 0.875rem;
  color: var(--qw-text-tertiary);
}

.qw-narrative-title {
  font-size: 1.5rem;
  font-weight: 600;
  color: var(--qw-text-primary);
  margin-bottom: 0.75rem;
  line-height: 1.3;
}

.qw-narrative-title a {
  color: inherit;
  text-decoration: none;
  background: linear-gradient(to right, var(--qw-quantum-cyan), var(--qw-quantum-cyan));
  background-size: 0% 2px;
  background-position: 0 100%;
  background-repeat: no-repeat;
  transition: background-size 0.3s ease;
}

.qw-narrative-title a:hover {
  background-size: 100% 2px;
}

.qw-narrative-excerpt {
  color: var(--qw-text-secondary);
  line-height: 1.7;
  margin-bottom: 0;
}

/* ================================
   ANIMATIONS
   ================================ */

@keyframes qw-shimmer {
  0%, 100% {
    background-position: 0% 50%;
  }
  50% {
    background-position: 100% 50%;
  }
}

@keyframes qw-pulse {
  0%, 100% {
    opacity: 1;
  }
  50% {
    opacity: 0.5;
  }
}

@keyframes qw-glow {
  0%, 100% {
    box-shadow: 0 0 10px var(--qw-quantum-glow);
  }
  50% {
    box-shadow: 0 0 20px var(--qw-quantum-glow-strong);
  }
}

.qw-pulse {
  animation: qw-pulse 2s ease-in-out infinite;
}

.qw-glow-animate {
  animation: qw-glow 2s ease-in-out infinite;
}

/* ================================
   QUANTUM WEAVE POST STYLES
   ================================ */

.qw-post {
  position: relative;
  background: var(--qw-bg-primary);
}

.qw-post-header {
  position: relative;
  padding: 3rem 0;
  text-align: center;
  border-bottom: 1px solid var(--qw-border-subtle);
  margin-bottom: 3rem;
}

.qw-post-header::after {
  content: '';
  position: absolute;
  bottom: -1px;
  left: 50%;
  transform: translateX(-50%);
  width: 100px;
  height: 2px;
  background: linear-gradient(
    90deg,
    transparent,
    var(--qw-quantum-cyan),
    transparent
  );
}

.qw-post-title {
  font-size: clamp(2rem, 5vw, 3.5rem);
  font-weight: 700;
  letter-spacing: -0.02em;
  color: var(--qw-text-primary);
  margin-bottom: 1rem;
}

.qw-post-meta {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 1rem;
  color: var(--qw-text-tertiary);
  font-size: 0.875rem;
}

.qw-post-content {
  max-width: 720px;
  margin: 0 auto;
  padding: 0 2rem;
  font-size: 1.125rem;
  line-height: 1.8;
  color: var(--qw-text-secondary);
}

.qw-post-content p {
  margin-bottom: 1.5rem;
}

.qw-post-content em {
  color: var(--qw-quantum-cyan);
  font-style: italic;
}

.qw-post-content strong {
  color: var(--qw-text-primary);
  font-weight: 600;
}

.qw-post-content blockquote {
  border-left: 3px solid var(--qw-quantum-cyan);
  padding-left: 1.5rem;
  margin: 2rem 0;
  color: var(--qw-text-secondary);
  font-style: italic;
}

/* ================================
   RESPONSIVE DESIGN
   ================================ */

@media (max-width: 768px) {
  .qw-hero {
    min-height: 60vh;
  }

  .qw-hero-content {
    padding: 1.5rem;
  }

  .qw-hero-cta {
    flex-direction: column;
    align-items: stretch;
  }

  .qw-btn {
    width: 100%;
    justify-content: center;
  }

  .qw-post-content {
    padding: 0 1rem;
  }

  .qw-card {
    padding: 1.5rem;
  }
}

/* ================================
   REDUCED MOTION
   ================================ */

@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}
