<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>THREE.js object and material loading</title>
        <meta name="description" content="Messing with some THREE.js and on top of that the excellent webvr-starter-kit.
">
        <meta name="author" content="Jerad Bitner" />

        <!-- Theme initialization -->
        <script>
          // Check for saved theme preference, otherwise default to dark
          const savedTheme = localStorage.getItem('theme') || 'dark';
          document.documentElement.setAttribute('data-theme', savedTheme);
        </script>

        <!-- Meta tags -->
        <meta property="og:title" content="THREE.js object and material loading" />
        <meta property="og:type" content="article" />
        <meta property="og:url" content="/2015/10/VR/" />
        <meta property="og:description" content="Messing with some THREE.js and on top of that the excellent webvr-starter-kit.
" />
        <meta name="twitter:card" content="summary" />
        <meta name="twitter:title" content="THREE.js object and material loading" />
        <meta name="twitter:description" content="Messing with some THREE.js and on top of that the excellent webvr-starter-kit.
" />

        <!-- Google Fonts -->
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&family=JetBrains+Mono:wght@400;700&display=swap" rel="stylesheet">

        <!-- syntax highlighting CSS -->
        <link rel="stylesheet" href="/css/syntax.css">
        
        <!-- Custom CSS -->
        <link rel="stylesheet" href="/css/main.css">
    </head>
    <body>
      <header>
        <div class="container">
          <div class="profile-section">
            <img src="http://www.gravatar.com/avatar/4950478a2c8a6627004a41b2617948a4?s=50" alt="Jerad Bitner" class="profile-image" />
            <h1><a href="/">Jerad Bitner</a></h1>
          </div>
          
          <nav>
            <a href="/">Home</a>
            <div class="dropdown">
              <a href="#" class="dropdown-toggle" data-bs-toggle="dropdown" aria-expanded="false">
                Jenney Journals
              </a>
              <ul class="dropdown-menu">
                
                
                  
                  
                    
                  
                
                  
                  
                    
                  
                
                  
                  
                    
                  
                
                  
                  
                    
                  
                
                  
                  
                    
                  
                
                  
                  
                    
                  
                
                  
                  
                    
                  
                
                  
                  
                    
                  
                
                  
                  
                    
                  
                
                  
                  
                    
                  
                
                  
                  
                    
                  
                
                  
                  
                    
                  
                
                  
                  
                    
                  
                
                  
                  
                    
                  
                
                  
                  
                    
                  
                
                  
                  
                    
                  
                
                  
                  
                    
                  
                
                  
                  
                    
                  
                
                  
                  
                    
                  
                
                  
                  
                    
                  
                
                  
                  
                    
                  
                
                  
                  
                    
                  
                
                  
                  
                    
                  
                
                  
                  
                    
                  
                
                  
                  
                    
                  
                
                  
                  
                    
                  
                
                  
                  
                    
                  
                
                  
                  
                    
                  
                
                  
                  
                    
                  
                
                  
                  
                    
                  
                
                  
                  
                    
                  
                
                  
                  
                    
                  
                
                  
                  
                    
                  
                
                  
                  
                    
                  
                
                  
                  
                    
                  
                
                  
                  
                    
                  
                
                  
                  
                    
                  
                
                  
                  
                    
                  
                
                  
                  
                    
                  
                
                  
                  
                    
                  
                
                  
                  
                    
                  
                
                  
                  
                    
                  
                
                  
                  
                    
                  
                
                  
                  
                    
                  
                
                  
                  
                    
                  
                
                  
                  
                    
                  
                
                  
                  
                    
                  
                
                  
                  
                    
                  
                
                  
                  
                    
                  
                
                  
                  
                    
                  
                
                  
                  
                    
                  
                
                  
                  
                    
                  
                
                  
                  
                    
                  
                
                  
                  
                    
                  
                
                  
                  
                    
                  
                
                  
                  
                    
                  
                
                  
                  
                    
                  
                
                  
                  
                    
                  
                
                  
                  
                    
                  
                
                  
                  
                
                  
                  
                    
                  
                    
                  
                
                  
                  
                    
                  
                    
                  
                
                  
                  
                    
                  
                    
                      <li><a class="dropdown-item" href="/2020/02/jenney-journal-1/">Jenney Journal, part 1</a></li>
                    
                  
                
                  
                  
                    
                  
                    
                      <li><a class="dropdown-item" href="/2020/02/jenney-journal-2/">Jenney Journal, part 2</a></li>
                    
                  
                
                  
                  
                    
                  
                    
                      <li><a class="dropdown-item" href="/2020/02/jenney-journal-3/">Jenney Journal, part 3</a></li>
                    
                  
                
                  
                  
                    
                  
                    
                      <li><a class="dropdown-item" href="/2020/02/jenney-journal-4/">Jenney Journal, part 4</a></li>
                    
                  
                
                  
                  
                    
                  
                    
                      <li><a class="dropdown-item" href="/2020/02/jenney-journal-5/">Jenney Journal, part 5</a></li>
                    
                  
                
                  
                  
                    
                  
                    
                      <li><a class="dropdown-item" href="/2020/02/jenney-journal-6/">Jenney Journal, part 6</a></li>
                    
                  
                
                  
                  
                    
                  
                    
                      <li><a class="dropdown-item" href="/2020/02/jenney-journal-7/">Jenney Journal, part 7</a></li>
                    
                  
                
                  
                  
                    
                  
                    
                      <li><a class="dropdown-item" href="/2020/02/jenney-journal-8/">Jenney Journal, part 8</a></li>
                    
                  
                
                  
                  
                    
                  
                    
                      <li><a class="dropdown-item" href="/2020/02/jenney-journal-9/">Jenney Journal, part 9</a></li>
                    
                  
                
                  
                  
                    
                  
                    
                      <li><a class="dropdown-item" href="/2020/03/jenney-journal-10/">Jenney Journal, part 10</a></li>
                    
                  
                
                  
                  
                    
                  
                    
                      <li><a class="dropdown-item" href="/2020/03/jenney-journal-11/">Jenney Journal, part 11</a></li>
                    
                  
                
                  
                  
                    
                  
                    
                      <li><a class="dropdown-item" href="/2020/03/jenney-journal-12/">Jenney Journal, part 12</a></li>
                    
                  
                
                  
                  
                    
                  
                    
                      <li><a class="dropdown-item" href="/2020/03/jenney-journal-13/">Jenney Journal, part 13</a></li>
                    
                  
                
                  
                  
                    
                  
                    
                      <li><a class="dropdown-item" href="/2020/03/jenney-journal-14/">Jenney Journal, part 14</a></li>
                    
                  
                
                  
                  
                    
                  
                    
                      <li><a class="dropdown-item" href="/2020/03/jenney-journal-15/">Jenney Journal, part 15</a></li>
                    
                  
                
                  
                  
                    
                  
                    
                      <li><a class="dropdown-item" href="/2020/03/jenney-journal-16/">Jenney Journal, part 16</a></li>
                    
                  
                
                  
                  
                    
                  
                    
                      <li><a class="dropdown-item" href="/2020/03/jenney-journal-team/">Jenney Journal, Jenney's Team</a></li>
                    
                  
                
                  
                  
                    
                  
                    
                      <li><a class="dropdown-item" href="/2020/03/jenney-journal-17/">Jenney Journal, part 17</a></li>
                    
                  
                
                  
                  
                    
                  
                
                  
                  
                    
                  
                    
                      <li><a class="dropdown-item" href="/2020/03/jenney-journal-18/">Jenney Journal, part 18</a></li>
                    
                  
                
                  
                  
                    
                  
                    
                      <li><a class="dropdown-item" href="/2020/03/verse-collection/">Verse Collection</a></li>
                    
                  
                
                  
                  
                    
                  
                    
                      <li><a class="dropdown-item" href="/2020/03/jenney-journal-19/">Jenney Journal, part 19</a></li>
                    
                  
                
                  
                  
                    
                  
                    
                      <li><a class="dropdown-item" href="/2020/04/jenney-journal-20/">Jenney Journal, part 20</a></li>
                    
                  
                
                  
                  
                    
                  
                    
                  
                
                  
                  
                    
                  
                    
                  
                
                  
                  
                    
                  
                    
                      <li><a class="dropdown-item" href="/2020/05/jenney-journal-21/">Jenney Journal, part 21</a></li>
                    
                  
                
                  
                  
                    
                  
                    
                      <li><a class="dropdown-item" href="/2020/05/jenney-journal-22/">Jenney Journal, part 22</a></li>
                    
                  
                
                  
                  
                    
                  
                    
                      <li><a class="dropdown-item" href="/2020/05/jenney-journal-23/">Jenney Journal, part 23</a></li>
                    
                  
                
                  
                  
                    
                  
                    
                      <li><a class="dropdown-item" href="/2020/05/jenney-journal-24/">Jenney Journal, part 24</a></li>
                    
                  
                
                  
                  
                    
                  
                    
                      <li><a class="dropdown-item" href="/2020/05/jenney-journal-25/">Jenney Journal, part 25</a></li>
                    
                  
                
                  
                  
                    
                  
                    
                  
                
                  
                  
                    
                  
                    
                      <li><a class="dropdown-item" href="/2020/06/jenney-journal-26/">Jenney Journal, part 26</a></li>
                    
                  
                
                  
                  
                    
                  
                    
                      <li><a class="dropdown-item" href="/2020/07/jenney-journal-27/">Jenney Journal, part 27</a></li>
                    
                  
                
                  
                  
                    
                  
                    
                      <li><a class="dropdown-item" href="/2020/08/jenney-journal-28/">Jenney Journal, part 28</a></li>
                    
                  
                
                  
                  
                    
                  
                    
                      <li><a class="dropdown-item" href="/2020/09/jenney-journal-29/">Jenney Journal, part 29</a></li>
                    
                  
                
                  
                  
                    
                  
                    
                      <li><a class="dropdown-item" href="/2020/10/jenney-journal-30/">Jenney Journal, part 30</a></li>
                    
                  
                
                  
                  
                    
                  
                
                  
                  
                    
                  
                    
                      <li><a class="dropdown-item" href="/2020/11/jenney-journal-31/">Jenney Journal, part 31</a></li>
                    
                  
                
                  
                  
                    
                  
                
                  
                  
                    
                  
                    
                      <li><a class="dropdown-item" href="/2021/01/jenney-journal-32/">Jenney Journal, part 32</a></li>
                    
                  
                
                  
                  
                    
                  
                
              </ul>
            </div>
            <a href="/archive">Archive</a>
            <button id="theme-toggle" aria-label="Toggle dark mode">
              🌙
            </button>
          </nav>
        </div>
      </header>

      <main class="container">
        <article class="post">
  <header>
    <h1 class="subheader">
      <a href="http://prose.io/#sirkitree/sirkitree.github.com/edit/master/_posts/2015-10-31-VR.md" class="pencil" title="Edit with Prose.io"><span>Edit</span></a>
      THREE.js object and material loading
    </h1>

    <div class="meta mb-4">
      <time pubdate="pubdate">October 31, 2015</time>
      
    </div>
  </header>

  <section class="content">
    <h2 id="messing-with-some-threejs-and-on-top-of-that-the-excellent-webvr-starter-kit">Messing with some <a href="">THREE.js</a> and on top of that the excellent <a href="">webvr-starter-kit</a>.</h2>

<p>The WebVR starter kit is a library on top of Three.js that allows you to quickly and easily setup a scene without all of the coding required by Three.js.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">VR</span><span class="p">.</span><span class="nf">floor</span><span class="p">()</span>
</code></pre></div></div>

<p>This will get you a basic scene with lighting, rendering, camera, and a checkered plane for a floor.</p>

<p>Since this is based on Three.js, you can then use typical Three.js libraries to do things like load objects and materials. Then you can add them to the existing scene like so:</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">VR</span><span class="p">.</span><span class="nx">scene</span><span class="p">.</span><span class="nf">add</span><span class="p">(</span><span class="nx">whatever</span><span class="p">)</span>
</code></pre></div></div>

<p>I wrote a basic example that utilizes Three’s OBJMTLLoader. You can see the source below and you can see it in action <a href="http://jeradbitner.com/VR/load-obj.html">here</a>.</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html</span> <span class="na">lang=</span><span class="s">"en"</span><span class="nt">&gt;</span>
<span class="nt">&lt;head&gt;</span>
  <span class="nt">&lt;title&gt;</span>Load Obj with Three.js<span class="nt">&lt;/title&gt;</span>
  <span class="nt">&lt;meta</span> <span class="na">charset=</span><span class="s">"utf-8"</span><span class="nt">&gt;</span>
<span class="nt">&lt;/head&gt;</span>
<span class="nt">&lt;body&gt;</span>
<span class="nt">&lt;script </span><span class="na">type=</span><span class="s">"text/javascript"</span> <span class="na">src=</span><span class="s">"js/three.min.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"https://povdocs.github.io/webvr-starter-kit/build/vr.js"</span><span class="nt">&gt;&lt;/script&gt;</span>

<span class="nt">&lt;script </span><span class="na">type=</span><span class="s">"text/javascript"</span> <span class="na">src=</span><span class="s">"js/MTLLoader.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;script </span><span class="na">type=</span><span class="s">"text/javascript"</span> <span class="na">src=</span><span class="s">"js/OBJMTLLoader.js"</span><span class="nt">&gt;&lt;/script&gt;</span>

<span class="nt">&lt;script </span><span class="na">type=</span><span class="s">"text/javascript"</span><span class="nt">&gt;</span>

<span class="nx">VR</span><span class="p">.</span><span class="nf">floor</span><span class="p">()</span>
<span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="nx">VR</span><span class="p">)</span> <span class="c1">// this container things like VR.camera, VR.scene, VR.renderer from THREE</span>

<span class="c1">// this just</span>
<span class="kd">var</span> <span class="nx">manager</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">THREE</span><span class="p">.</span><span class="nc">LoadingManager</span><span class="p">()</span>
<span class="nx">manager</span><span class="p">.</span><span class="nx">onProgress</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">item</span><span class="p">,</span> <span class="nx">loaded</span><span class="p">,</span> <span class="nx">total</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">Manager:</span><span class="dl">'</span><span class="p">,</span> <span class="nx">item</span><span class="p">,</span> <span class="nx">loaded</span><span class="p">,</span> <span class="nx">total</span><span class="p">)</span>
<span class="p">}</span>

<span class="cm">/**
 * objLocation should be the http location of the file without the extension.
 * we will automatically assume that an obj file and an mtl file are present.
 * ex: https://raw.githubusercontent.com/bitgridio/models/gh-pages/lullabot/Body
 */</span>
<span class="kd">var</span> <span class="nx">loadObjMtl</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">objLocation</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">loader</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">THREE</span><span class="p">.</span><span class="nc">OBJMTLLoader</span><span class="p">(</span><span class="nx">manager</span><span class="p">)</span>
  <span class="nx">loader</span><span class="p">.</span><span class="nf">load</span><span class="p">(</span>
    <span class="nx">objLocation</span> <span class="o">+</span> <span class="dl">'</span><span class="s1">.obj</span><span class="dl">'</span><span class="p">,</span>
    <span class="nx">objLocation</span> <span class="o">+</span> <span class="dl">'</span><span class="s1">.mtl</span><span class="dl">'</span><span class="p">,</span>
    <span class="kd">function</span><span class="p">(</span><span class="nx">obj</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="nx">obj</span><span class="p">)</span>
      <span class="nx">VR</span><span class="p">.</span><span class="nx">scene</span><span class="p">.</span><span class="nf">add</span><span class="p">(</span><span class="nx">obj</span><span class="p">)</span>
    <span class="p">},</span>
    <span class="kd">function</span><span class="p">(</span><span class="nx">xhr</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="nx">xhr</span><span class="p">.</span><span class="nx">loaded</span> <span class="o">+</span> <span class="dl">'</span><span class="s1"> bytes loaded</span><span class="dl">'</span><span class="p">)</span>
    <span class="p">},</span>
    <span class="kd">function</span><span class="p">(</span><span class="nx">xhr</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">Error loading object</span><span class="dl">'</span><span class="p">)</span>
    <span class="p">}</span>
  <span class="p">)</span>
<span class="p">}</span>

<span class="nf">loadObjMtl</span><span class="p">(</span><span class="dl">'</span><span class="s1">https://raw.githubusercontent.com/bitgridio/models/gh-pages/lullabot/Body</span><span class="dl">'</span><span class="p">)</span>
<span class="nf">loadObjMtl</span><span class="p">(</span><span class="dl">'</span><span class="s1">https://raw.githubusercontent.com/bitgridio/models/gh-pages/lullabot/Headd</span><span class="dl">'</span><span class="p">)</span>

<span class="nt">&lt;/script&gt;</span>
<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</code></pre></div></div>

  </section>  
  
  
  <section class="comments mt-5">
    <div id="disqus_thread"></div>
    <script type="text/javascript">
        var disqus_shortname = 'jbitner';
        var disqus_url = window.location.href;
        if (disqus_url.indexOf('#') >= 0) {
          disqus_url = disqus_url.split('#')[0];
        }
        var last_char = disqus_url[disqus_url.length-1]
        if (last_char == '/') {
          disqus_url = disqus_url.substring(0, disqus_url.length-1);
        }

        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  </section>
  
</article>

      </main>

      <footer>
        <div class="container">
          <div class="footer-content">
            <div class="footer-info">
              <p>
                Jerad Bitner<br>
                sirkitree@gmail.com
              </p>
            </div>
            <div class="footer-links">
              <p>
                <a href="http://github.com/sirkitree/">github.com/sirkitree</a><br>
                <a href="http://twitter.com/sirkitree/">twitter.com/sirkitree</a>
              </p>
            </div>
          </div>
        </div>
      </footer>

      <!-- Bootstrap JS for dropdown functionality -->
      <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
      
      <!-- Theme toggle script -->
      <script>
        const themeToggle = document.getElementById('theme-toggle');
        themeToggle.textContent = document.documentElement.getAttribute('data-theme') === 'dark' ? '🌙' : '☀️';
        
        themeToggle.addEventListener('click', () => {
          const currentTheme = document.documentElement.getAttribute('data-theme');
          const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
          
          document.documentElement.setAttribute('data-theme', newTheme);
          themeToggle.textContent = newTheme === 'dark' ? '🌙' : '☀️';
          
          localStorage.setItem('theme', newTheme);
        });
      </script>
    </body>
</html>
